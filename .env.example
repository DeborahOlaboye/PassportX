# PassportX Environment Configuration

# Application
NODE_ENV=development
PORT=3001
FRONTEND_URL=http://localhost:3000

# Backend API Configuration (for Next.js API routes)
BACKEND_URL=http://localhost:3001

# Database
MONGODB_URI=mongodb://localhost:27017/passportx

# Stacks Network Configuration
STACKS_NETWORK=devnet # Options: devnet, testnet, mainnet

# Devnet Contract Addresses (local development)
DEVNET_BADGE_READER_ADDRESS=ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM
DEVNET_BADGE_ISSUER_ADDRESS=ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM
DEVNET_BADGE_METADATA_ADDRESS=ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM
DEVNET_PASSPORT_NFT_ADDRESS=ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM
DEVNET_PASSPORT_CORE_ADDRESS=ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM
DEVNET_COMMUNITY_MANAGER_ADDRESS=ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM
DEVNET_ACCESS_CONTROL_ADDRESS=ST1PQHQKV0RJXZFY1DGX8MNSNYVE3VGZJSRTPGZGM

# Testnet Contract Addresses
TESTNET_BADGE_READER_ADDRESS=
TESTNET_BADGE_ISSUER_ADDRESS=
TESTNET_BADGE_METADATA_ADDRESS=
TESTNET_PASSPORT_NFT_ADDRESS=
TESTNET_PASSPORT_CORE_ADDRESS=
TESTNET_COMMUNITY_MANAGER_ADDRESS=
TESTNET_ACCESS_CONTROL_ADDRESS=

# Mainnet Contract Addresses (Update after deployment)
MAINNET_BADGE_READER_ADDRESS=
MAINNET_BADGE_ISSUER_ADDRESS=
MAINNET_BADGE_METADATA_ADDRESS=
MAINNET_PASSPORT_NFT_ADDRESS=
MAINNET_PASSPORT_CORE_ADDRESS=
MAINNET_COMMUNITY_MANAGER_ADDRESS=
MAINNET_ACCESS_CONTROL_ADDRESS=

# Chainhook Configuration
# Chainhook Node Configuration (Remote Node)
CHAINHOOK_NODE_URL=http://localhost:20456  # Chainhook node base URL
CHAINHOOK_NODE_API_KEY=  # API key for authentication (required for hosted nodes)
CHAINHOOK_NODE_TIMEOUT=30000  # Request timeout in milliseconds
CHAINHOOK_NODE_RETRY_ENABLED=true  # Enable retry logic for failed requests
CHAINHOOK_NODE_MAX_RETRIES=3  # Maximum number of retry attempts
CHAINHOOK_NODE_RETRY_DELAY=1000  # Delay between retry attempts in milliseconds

# Chainhook Server Configuration (Local Event Server)
CHAINHOOK_SERVER_HOST=localhost  # Local server hostname
CHAINHOOK_SERVER_PORT=3010  # Local server port
CHAINHOOK_SERVER_EXTERNAL_URL=http://localhost:3010  # External URL for webhooks
CHAINHOOK_SERVER_HTTPS=false  # Enable HTTPS for local server
CHAINHOOK_SERVER_SSL_CERT_PATH=  # Path to SSL certificate (if HTTPS enabled)
CHAINHOOK_SERVER_SSL_KEY_PATH=  # Path to SSL key (if HTTPS enabled)

# Chainhook Webhook Configuration - Community Creation
CHAINHOOK_WEBHOOK_URL=http://localhost:3010/api/community-creation/webhook/events  # Webhook URL for community creation events
CHAINHOOK_AUTH_TOKEN=  # Authentication token for webhook (sent in Authorization header)
CHAINHOOK_ENABLE_EVENT_PREDICATE=false  # Enable stacks-print event detection in addition to contract-call

# Chainhook Badge Minting Configuration
CHAINHOOK_ENABLE_BADGE_MINT=true  # Enable badge minting event detection via contract calls
CHAINHOOK_ENABLE_BADGE_MINT_EVENT=false  # Enable badge minting event detection via print events
BADGE_MINT_WEBHOOK_URL=http://localhost:3010/api/badges/webhook/mint  # Webhook URL for badge minting events

# Webhook Security Configuration
WEBHOOK_SIGNATURE_VALIDATION=false  # Enable webhook signature validation (recommended for production)
WEBHOOK_SIGNATURE_ALGORITHM=sha256  # HMAC algorithm for signature validation
WEBHOOK_SECRET_KEY=  # Secret key for webhook signature validation

# Legacy Chainhook Configuration (deprecated, use above variables)
CHAINHOOK_START_BLOCK=0  # Block height to start indexing from
CHAINHOOK_EVENT_QUEUE=chainhook-events  # Queue name for processing events
CHAINHOOK_MAX_BATCH_SIZE=100  # Maximum number of events to process in a single batch

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_EXPIRES_IN=7d

# Session Configuration
SESSION_SECRET=your-super-secret-session-key-change-in-production
SESSION_MAX_AGE=604800000

# CORS
CORS_ORIGIN=http://localhost:3000

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Blockchain Explorer
BLOCKCHAIN_EXPLORER_URL=https://explorer.stacks.co

# Feature Flags
ENABLE_BADGE_VERIFICATION=true
ENABLE_ANALYTICS=true

# Monitoring (Optional)
SENTRY_DSN=
LOG_LEVEL=info
